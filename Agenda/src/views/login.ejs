<%- include('head'); %>
<%- include('nav'); %>

<div class="container">

  <div class="row">
    
    <div class="col-lg-2 bg-secondary"></div>
    
    <div class="col-lg-8 my-2">
      
        <h1 class="text-center">Login</h1>

        <%- include('messages'); %>

        <div class="row">
            <div class="col-lg">
                
                <h4>New</h4>
                
                <form class="formCheck" action="/register" method="POST">
                    <input type="hidden" name="_csrf" value=<%= csrfToken %>>
                    <div class="form-group">
                      <label>Email address</label>
                      <input type="email" class="form-control" name="email">                      
                    </div>
                    
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" name="password" class="form-control">
                    </div>    

                    <button type="submit" class="btn btn-primary">Create</button>
                  </form>    
            
            </div>
            <div class="col-lg">
                
                <h4>Enter</h4>
            
                <form class="formCheck" action="/enter" method="POST">
                    <input type="hidden" name="_csrf" value=<%= csrfToken %>>
                    <div class="form-group">
                      <label>Email address</label>
                      <input type="email" class="form-control" name="email">                      
                    </div>
                    
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" class="form-control" name="password">
                    </div>    

                    <button type="submit" class="btn btn-primary">Login</button>
                  </form>    

            
            </div>
        </div>

    </div>


    <div class="col-lg-2 bg-secondary"></div>
    
  </div>

</div>

<%- include('footer'); %>


<script>

function check(cssClass) {
    
    console.log('form fields checking...');

    forms = document.querySelectorAll(cssClass);
    if(!forms) {
        console.log('form check error');
        return;
    }


    forms.forEach(form => {
        
        form.addEventListener('submit', e => {
            e.preventDefault();
            alert('Incomplete fields.'); 
        });
    });

};

check(".formCheck");

</script>